	<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<!-- Website Design By: www.happyworm.com -->
<title>Demo : jPlayer as a video player</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/jplayer/2.9.2/skin/pink.flag/css/jplayer.pink.flag.min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jplayer/2.9.2/jplayer/jquery.jplayer.min.js"></script>
<script type="text/javascript">
//<![CDATA[

var akusztik = (function() {
	var BaseURL = "http://mr2old.radio.hu/";

	var UrlPrefix;
	var Position;
	var Data;

	var loadFromObject = function(data) {
		UrlPrefix = data.UrlPrefix.Value;
		Data = data;

		if ( UrlPrefix.indexOf("http://stream001.radio.hu") == -1) {
			$("#jquery_jplayer_1").jPlayer("setMedia", {
				title: Data.Performer.Value,
				mp3: UrlPrefix
			});
		}

		$("#playlist").html("<ol></ol>");

		for (var i = Data.Cue.length - 1; i >= 0; i--) {
			$("#playlist ol").after("<li><a onclick='akusztik.play("+i+")'>" + Data.Cue[i].Name +"</a></li>");
		};
	}

	var play = function(index) {
		Position = Data.Cue[index].Position;
		if ( UrlPrefix.indexOf("http://stream001.radio.hu") != -1) {
			getAuthorizationCode(UrlPrefix);
		} else {
			$("#jquery_jplayer_1").jPlayer("play", Position);
		}
	}

	var loadFromUrl = function(url) {
		$.get( url, loadFromObject);
	}

	var getAuthorizationCode = function(url) {
		$.getScript(url + "-" + Position + ".mp3.js?hashid=" + 0);
	}

	var setAuthcode = function(authcode) {
			console.log("Got authorization " + authcode);
			var fullURL = UrlPrefix + "-"+Position+".mp3?ssdcode=" + authcode;
			console.log("URL " + fullURL);
			$("#jquery_jplayer_1").jPlayer("setMedia", {
				title: Data.Performer.Value,
				mp3: fullURL
			});

			$("#jquery_jplayer_1").jPlayer("play");
	}

	return {
		play: play,
		loadFromUrl: loadFromUrl,
		setAuthcode: setAuthcode
	};
})();

// Needed by akusztik play
function jsCallback(x,authcode) {
	akusztik.setAuthcode(authcode);
}

$(document).ready(function(){
	//akusztik.loadArtist("110329_akusztik_kesh");
	$("#jquery_jplayer_1").jPlayer({
		ready: function () {
			akusztik.loadFromUrl("Szeder.json");
		},
		swfPath: "../../dist/jplayer",
		supplied: "mp3",
		useStateClassSkin: true,
		autoBlur: false,
		smoothPlayBar: true,
		keyEnabled: true,
		remainingDuration: true,
		toggleDuration: true
	});
});
//]]>
</script>
</head>
<body>
<div id="jquery_jplayer_1" class="jp-jplayer"></div>
<div id="jp_container_1" class="jp-audio" role="application" aria-label="media player">
	<div class="jp-type-single">
		<div class="jp-gui jp-interface">
			<div class="jp-controls">
				<button class="jp-play" role="button" tabindex="0">play</button>
				<button class="jp-stop" role="button" tabindex="0">stop</button>
			</div>
			<div class="jp-progress">
				<div class="jp-seek-bar">
					<div class="jp-play-bar"></div>
				</div>
			</div>
			<div class="jp-volume-controls">
				<button class="jp-mute" role="button" tabindex="0">mute</button>
				<button class="jp-volume-max" role="button" tabindex="0">max volume</button>
				<div class="jp-volume-bar">
					<div class="jp-volume-bar-value"></div>
				</div>
			</div>
			<div class="jp-time-holder">
				<div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>
				<div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>
				<div class="jp-toggles">
					<button class="jp-repeat" role="button" tabindex="0">repeat</button>
				</div>
			</div>
		</div>
		<div class="jp-details">
			<div class="jp-title" aria-label="title">&nbsp;</div>
		</div>
		<div class="jp-no-solution">
			<span>Update Required</span>
			To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
		</div>
	</div>
</div>

<div id="playlist">
</div>

</body>

</html>
